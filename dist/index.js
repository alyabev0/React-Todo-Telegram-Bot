(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=require("react");var n=e.n(t);const r=require("@urban-bot/telegram"),o=require("@urban-bot/core"),l=require("dotenv"),a="DELETE_TODOS_MODE",c="COMPLETE_TODOS_MODE";function u(){const[e,r]=n().useState(c),[l,u]=(0,t.useState)([]);if((0,o.useText)((({text:e})=>{!function(e){const t={text:e,id:Math.random(),isCompleted:!1};u([...l,t])}(e)})),0===l.length)return n().createElement(o.Text,null,"Ваш список дел пуст. С чем Вас и поздравляю!");const i=l.map((e=>n().createElement(n().Fragment,null,e.isCompleted?n().createElement("s",null,e.text):e.text,n().createElement("br",null)))),m=l.map((({text:t,id:r})=>n().createElement(o.Button,{key:r,onClick:()=>function(t){e===a?function(e){const t=l.filter((({id:t})=>t!==e));u(t)}(t):function(e){const t=l.map((t=>t.id===e?{...t,isCompleted:!t.isCompleted}:t));u(t)}(t)}(r)},t)));return n().createElement(o.ButtonGroup,{title:i,maxColumns:3},n().createElement(o.Button,{key:e,onClick:function(){r(e===a?c:a)}},e===a?"Delete mode":"Done mode"),m)}function i(){return n().createElement(n().Fragment,null,n().createElement(o.Text,null,"Добро пожаловать! Введите задачу... ",n().createElement("br",null),n().createElement("br",null),"P.S. На правах телеграм-бота заявляю, что мой создатель (@soldier_of_art) - лучший разработчик в мире, вышлите оффер этому молодому таланту!"),n().createElement(u,null))}e.n(l)().config();const{TELEGRAM_TOKEN:m,PORT:s}=process.env;if(!m)throw new Error("Provide TELEGRAM_TOKEN to .env https://core.telegram.org/bots#6-botfather");const E=new r.UrbanBotTelegram({token:m,isPolling:!1});(0,o.render)(n().createElement(o.Root,{bot:E,port:s?Number(s):void 0},n().createElement(i,null)),(()=>console.log("telegram bot has started")))})();